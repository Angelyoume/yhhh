"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{3457:function(a,b,c){c.d(b,{Z:function(){return h}});var d=c(7462),e=c(7294),f=c(1601),g=c(3869);function h(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},c=(0,f.Z)(),h=(0,g.Z)({theme:c,name:"MuiUseMediaQuery",props:{}}),i="function"==typeof a?a(c):a;i=i.replace(/^@media( ?)/m,"");var j="undefined"!=typeof window&& void 0!==window.matchMedia,k=(0,d.Z)({},h,b),l=k.defaultMatches,m=void 0!==l&&l,n=k.matchMedia,o=void 0===n?j?window.matchMedia:null:n,p=k.noSsr,q=void 0!==p&&p,r=k.ssrMatchMedia,s=void 0===r?null:r,t=e.useState(function(){return q&&j?o(i).matches:s?s(i).matches:m}),u=t[0],v=t[1];return e.useEffect(function(){var a=!0;if(j){var b=o(i),c=function(){a&&v(b.matches)};return c(),b.addListener(c),function(){a=!1,b.removeListener(c)}}},[i,o,j]),u}},1438:function(a,b,c){c.d(b,{Z:function(){return d}});function d(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}},9396:function(a,b,c){c.d(b,{Z:function(){return d}});function d(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}},4060:function(a,b,c){c.d(b,{Z:function(){return i}});var d=c(1945);let e=new d.A,f=1,g=1,h=!1;class i{constructor(a,b={}){for(let c in a.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=a,this.attributes=b,this.id=f++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state,b)this.addAttribute(c,b[c])}addAttribute(a,b){if(this.attributes[a]=b,b.id=g++,b.size=b.size||1,b.type=b.type||(b.data.constructor===Float32Array?this.gl.FLOAT:b.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),b.target="index"===a?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,b.normalized=b.normalized||!1,b.stride=b.stride||0,b.offset=b.offset||0,b.count=b.count||(b.stride?b.data.byteLength/b.stride:b.data.length/b.size),b.divisor=b.instanced||0,b.needsUpdate=!1,b.usage=b.usage||this.gl.STATIC_DRAW,b.buffer||this.updateAttribute(b),b.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==b.count*b.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,b.count*b.divisor);this.instancedCount=b.count*b.divisor}else"index"===a?this.drawRange.count=b.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,b.count))}updateAttribute(a){let b=!a.buffer;b&&(a.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==a.buffer&&(this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer),b?this.gl.bufferData(a.target,a.data,a.usage):this.gl.bufferSubData(a.target,0,a.data),a.needsUpdate=!1}setIndex(a){this.addAttribute("index",a)}setDrawRange(a,b){this.drawRange.start=a,this.drawRange.count=b}setInstancedCount(a){this.instancedCount=a}createVAO(a){this.VAOs[a.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[a.attributeOrder]),this.bindAttributes(a)}bindAttributes(a){a.attributeLocations.forEach((a,{name:b,type:c})=>{if(!this.attributes[b]){console.warn(`active attribute ${b} not being supplied`);return}let d=this.attributes[b];this.gl.bindBuffer(d.target,d.buffer),this.glState.boundBuffer=d.buffer;let e=1;35674===c&&(e=2),35675===c&&(e=3),35676===c&&(e=4);let f=d.size/e,g=1===e?0:e*e*e,h=1===e?0:e*e;for(let i=0;i<e;i++)this.gl.vertexAttribPointer(a+i,f,d.type,d.normalized,d.stride+g,d.offset+i*h),this.gl.enableVertexAttribArray(a+i),this.gl.renderer.vertexAttribDivisor(a+i,d.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:a,mode:b=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${a.attributeOrder}`&&(this.VAOs[a.attributeOrder]||this.createVAO(a),this.gl.renderer.bindVertexArray(this.VAOs[a.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${a.attributeOrder}`),a.attributeLocations.forEach((a,{name:b})=>{let c=this.attributes[b];c.needsUpdate&&this.updateAttribute(c)}),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(b,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start,this.instancedCount):this.gl.renderer.drawArraysInstanced(b,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(b,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start):this.gl.drawArrays(b,this.drawRange.start,this.drawRange.count)}getPosition(){let a=this.attributes.position;return a.data?a:h?void 0:(console.warn("No position buffer data found to compute bounds"),h=!0)}computeBoundingBox(a){a||(a=this.getPosition());let b=a.data,c=a.stride?a.stride/b.BYTES_PER_ELEMENT:a.size;this.bounds||(this.bounds={min:new d.A,max:new d.A,center:new d.A,scale:new d.A,radius:1/0});let e=this.bounds.min,f=this.bounds.max,g=this.bounds.center,h=this.bounds.scale;e.set(Infinity),f.set(-1/0);for(let i=0,j=b.length;i<j;i+=c){let k=b[i],l=b[i+1],m=b[i+2];e.x=Math.min(k,e.x),e.y=Math.min(l,e.y),e.z=Math.min(m,e.z),f.x=Math.max(k,f.x),f.y=Math.max(l,f.y),f.z=Math.max(m,f.z)}h.sub(f,e),g.add(e,f).divide(2)}computeBoundingSphere(a){a||(a=this.getPosition());let b=a.data,c=a.stride?a.stride/b.BYTES_PER_ELEMENT:a.size;this.bounds||this.computeBoundingBox(a);let d=0;for(let f=0,g=b.length;f<g;f+=c)e.fromArray(b,f),d=Math.max(d,this.bounds.center.squaredDistance(e));this.bounds.radius=Math.sqrt(d)}remove(){for(let a in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[a]),delete this.VAOs[a];for(let b in this.attributes)this.gl.deleteBuffer(this.attributes[b].buffer),delete this.attributes[b]}}},5056:function(a,b,c){c.d(b,{K:function(){return s}});var d=c(1945),e=c(2208);function f(a,b,c){let d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a}let g=e.JG,h=e.t8;e.IH,e.bA;let i=e.AK;e.t7,e.kE;let j=e.Fv;function k(a,b,c){let d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a}function l(a,b){let c=b[0],d=b[1],e=b[2],f=b[4],g=b[5],h=b[6],i=b[8],j=b[9],k=b[10];return a[0]=Math.hypot(c,d,e),a[1]=Math.hypot(f,g,h),a[2]=Math.hypot(i,j,k),a}let m=function(){let a=[0,0,0];return function(b,c){let d=a;l(d,c);let e=1/d[0],f=1/d[1],g=1/d[2],h=c[0]*e,i=c[1]*f,j=c[2]*g,k=c[4]*e,m=c[5]*f,n=c[6]*g,o=c[8]*e,p=c[9]*f,q=c[10]*g,r=h+m+q,s=0;return r>0?(s=2*Math.sqrt(r+1),b[3]=.25*s,b[0]=(n-p)/s,b[1]=(o-j)/s,b[2]=(i-k)/s):h>m&&h>q?(s=2*Math.sqrt(1+h-m-q),b[3]=(n-p)/s,b[0]=.25*s,b[1]=(i+k)/s,b[2]=(o+j)/s):m>q?(s=2*Math.sqrt(1+m-h-q),b[3]=(o-j)/s,b[0]=(i+k)/s,b[1]=.25*s,b[2]=(n+p)/s):(s=2*Math.sqrt(1+q-h-m),b[3]=(i-k)/s,b[0]=(o+j)/s,b[1]=(n+p)/s,b[2]=.25*s),b}}();class n extends Array{constructor(a=1,b=0,c=0,d=0,e=0,f=1,g=0,h=0,i=0,j=0,k=1,l=0,m=0,n=0,o=0,p=1){return super(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(a){this[12]=a}set y(a){this[13]=a}set z(a){this[14]=a}set w(a){this[15]=a}set(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return a.length?this.copy(a):(q=this,r=a,s=b,t=c,u=d,v=e,w=f,x=g,y=h,z=i,A=j,B=k,C=l,D=m,E=n,F=o,G=p,q[0]=r,q[1]=s,q[2]=t,q[3]=u,q[4]=v,q[5]=w,q[6]=x,q[7]=y,q[8]=z,q[9]=A,q[10]=B,q[11]=C,q[12]=D,q[13]=E,q[14]=F,q[15]=G,this)}translate(a,b=this){var c,d,e;let f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return c=this,d=b,f=(e=a)[0],g=e[1],h=e[2],d===c?(c[12]=d[0]*f+d[4]*g+d[8]*h+d[12],c[13]=d[1]*f+d[5]*g+d[9]*h+d[13],c[14]=d[2]*f+d[6]*g+d[10]*h+d[14],c[15]=d[3]*f+d[7]*g+d[11]*h+d[15]):(i=d[0],j=d[1],k=d[2],l=d[3],m=d[4],n=d[5],o=d[6],p=d[7],q=d[8],r=d[9],s=d[10],t=d[11],c[0]=i,c[1]=j,c[2]=k,c[3]=l,c[4]=m,c[5]=n,c[6]=o,c[7]=p,c[8]=q,c[9]=r,c[10]=s,c[11]=t,c[12]=i*f+m*g+q*h+d[12],c[13]=j*f+n*g+r*h+d[13],c[14]=k*f+o*g+s*h+d[14],c[15]=l*f+p*g+t*h+d[15]),this}rotate(a,b,c=this){var d,e,f,g;let h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;return d=this,e=c,f=a,h=(g=b)[0],i=g[1],j=g[2],k=Math.hypot(h,i,j),1e-6>Math.abs(k)||(h*=k=1/k,i*=k,j*=k,l=Math.sin(f),m=Math.cos(f),n=1-m,o=e[0],p=e[1],q=e[2],r=e[3],s=e[4],t=e[5],u=e[6],v=e[7],w=e[8],x=e[9],y=e[10],z=e[11],A=h*h*n+m,B=i*h*n+j*l,C=j*h*n-i*l,D=h*i*n-j*l,E=i*i*n+m,F=j*i*n+h*l,G=h*j*n+i*l,H=i*j*n-h*l,I=j*j*n+m,d[0]=o*A+s*B+w*C,d[1]=p*A+t*B+x*C,d[2]=q*A+u*B+y*C,d[3]=r*A+v*B+z*C,d[4]=o*D+s*E+w*F,d[5]=p*D+t*E+x*F,d[6]=q*D+u*E+y*F,d[7]=r*D+v*E+z*F,d[8]=o*G+s*H+w*I,d[9]=p*G+t*H+x*I,d[10]=q*G+u*H+y*I,d[11]=r*G+v*H+z*I,e!==d&&(d[12]=e[12],d[13]=e[13],d[14]=e[14],d[15]=e[15])),this}scale(a,b=this){var c,d,e;let f,g,h;return c=this,d=b,f=(e="number"==typeof a?[a,a,a]:a)[0],g=e[1],h=e[2],c[0]=d[0]*f,c[1]=d[1]*f,c[2]=d[2]*f,c[3]=d[3]*f,c[4]=d[4]*g,c[5]=d[5]*g,c[6]=d[6]*g,c[7]=d[7]*g,c[8]=d[8]*h,c[9]=d[9]*h,c[10]=d[10]*h,c[11]=d[11]*h,c[12]=d[12],c[13]=d[13],c[14]=d[14],c[15]=d[15],this}multiply(a,b){return b?k(this,a,b):k(this,this,a),this}identity(){var a;return a=this,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}copy(a){var b,c;return b=this,c=a,b[0]=c[0],b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=c[6],b[7]=c[7],b[8]=c[8],b[9]=c[9],b[10]=c[10],b[11]=c[11],b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15],this}fromPerspective({fov:a,aspect:b,near:c,far:d}={}){var e,f,g,h,i;let j,k;return e=this,f=a,g=b,h=c,i=d,j=1/Math.tan(f/2),k=1/(h-i),e[0]=j/g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=j,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+h)*k,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*h*k,e[15]=0,this}fromOrthogonal({left:a,right:b,bottom:c,top:d,near:e,far:f}){var g,h,i,j,k,l,m;let n,o,p;return g=this,h=a,i=b,j=c,k=d,l=e,m=f,n=1/(h-i),o=1/(j-k),p=1/(l-m),g[0]=-2*n,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=-2*o,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=2*p,g[11]=0,g[12]=(h+i)*n,g[13]=(k+j)*o,g[14]=(m+l)*p,g[15]=1,this}fromQuaternion(a){var b,c;let d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;return b=this,d=(c=a)[0],e=c[1],f=c[2],g=c[3],h=d+d,i=e+e,j=f+f,k=d*h,l=e*h,m=e*i,n=f*h,o=f*i,p=f*j,q=g*h,r=g*i,s=g*j,b[0]=1-m-p,b[1]=l+s,b[2]=n-r,b[3]=0,b[4]=l-s,b[5]=1-k-p,b[6]=o+q,b[7]=0,b[8]=n+r,b[9]=o-q,b[10]=1-k-m,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,this}setPosition(a){return this.x=a[0],this.y=a[1],this.z=a[2],this}inverse(a=this){var b,c;let d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;return b=this,d=(c=a)[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],m=c[9],n=c[10],o=c[11],p=c[12],q=c[13],r=c[14],s=c[15],t=d*i-e*h,u=d*j-f*h,v=d*k-g*h,w=e*j-f*i,x=e*k-g*i,y=f*k-g*j,z=l*q-m*p,A=l*r-n*p,B=l*s-o*p,C=m*r-n*q,D=m*s-o*q,E=n*s-o*r,F=t*E-u*D+v*C+w*B-x*A+y*z,F&&(F=1/F,b[0]=(i*E-j*D+k*C)*F,b[1]=(f*D-e*E-g*C)*F,b[2]=(q*y-r*x+s*w)*F,b[3]=(n*x-m*y-o*w)*F,b[4]=(j*B-h*E-k*A)*F,b[5]=(d*E-f*B+g*A)*F,b[6]=(r*v-p*y-s*u)*F,b[7]=(l*y-n*v+o*u)*F,b[8]=(h*D-i*B+k*z)*F,b[9]=(e*B-d*D-g*z)*F,b[10]=(p*x-q*v+s*t)*F,b[11]=(m*v-l*x-o*t)*F,b[12]=(i*A-h*C-j*z)*F,b[13]=(d*C-e*A+f*z)*F,b[14]=(q*u-p*w-r*t)*F,b[15]=(l*w-m*u+n*t)*F),this}compose(a,b,c){var d,e,f,g;let h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return d=this,e=a,f=b,g=c,h=e[0],i=e[1],j=e[2],k=e[3],l=h+h,m=i+i,n=j+j,o=h*l,p=h*m,q=h*n,r=i*m,s=i*n,t=j*n,u=k*l,v=k*m,w=k*n,x=g[0],y=g[1],z=g[2],d[0]=(1-(r+t))*x,d[1]=(p+w)*x,d[2]=(q-v)*x,d[3]=0,d[4]=(p-w)*y,d[5]=(1-(o+t))*y,d[6]=(s+u)*y,d[7]=0,d[8]=(q+v)*z,d[9]=(s-u)*z,d[10]=(1-(o+r))*z,d[11]=0,d[12]=f[0],d[13]=f[1],d[14]=f[2],d[15]=1,this}getRotation(a){return m(a,this),this}getTranslation(a){var b,c;return b=a,c=this,b[0]=c[12],b[1]=c[13],b[2]=c[14],this}getScaling(a){return l(a,this),this}getMaxScaleOnAxis(){var a;let b,c,d,e,f,g,h,i,j;return a=this,b=a[0],c=a[1],d=a[2],e=a[4],f=a[5],g=a[6],h=a[8],i=a[9],j=a[10],Math.sqrt(Math.max(b*b+c*c+d*d,e*e+f*f+g*g,h*h+i*i+j*j))}lookAt(a,b,c){var d,e,f,g;let h,i,j,k,l,m,n,o,p,q,r,s,t;return d=this,e=a,f=b,g=c,h=e[0],i=e[1],j=e[2],k=g[0],l=g[1],m=g[2],n=h-f[0],o=i-f[1],p=j-f[2],q=n*n+o*o+p*p,0===q?p=1:(n*=q=1/Math.sqrt(q),o*=q,p*=q),r=l*p-m*o,s=m*n-k*p,t=k*o-l*n,0==(q=r*r+s*s+t*t)&&(m?k+=1e-6:l?m+=1e-6:l+=1e-6,r=l*p-m*o,s=m*n-k*p,q=r*r+s*s+(t=k*o-l*n)*t),q=1/Math.sqrt(q),r*=q,s*=q,t*=q,d[0]=r,d[1]=s,d[2]=t,d[3]=0,d[4]=o*t-p*s,d[5]=p*r-n*t,d[6]=n*s-o*r,d[7]=0,d[8]=n,d[9]=o,d[10]=p,d[11]=0,d[12]=h,d[13]=i,d[14]=j,d[15]=1,this}determinant(){var a;let b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return a=this,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],(b*g-c*f)*(l*q-m*p)-(b*h-d*f)*(k*q-m*o)+(b*i-e*f)*(k*p-l*o)+(c*h-d*g)*(j*q-m*n)-(c*i-e*g)*(j*p-l*n)+(d*i-e*h)*(j*o-k*n)}fromArray(a,b=0){return this[0]=a[b],this[1]=a[b+1],this[2]=a[b+2],this[3]=a[b+3],this[4]=a[b+4],this[5]=a[b+5],this[6]=a[b+6],this[7]=a[b+7],this[8]=a[b+8],this[9]=a[b+9],this[10]=a[b+10],this[11]=a[b+11],this[12]=a[b+12],this[13]=a[b+13],this[14]=a[b+14],this[15]=a[b+15],this}toArray(a=[],b=0){return a[b]=this[0],a[b+1]=this[1],a[b+2]=this[2],a[b+3]=this[3],a[b+4]=this[4],a[b+5]=this[5],a[b+6]=this[6],a[b+7]=this[7],a[b+8]=this[8],a[b+9]=this[9],a[b+10]=this[10],a[b+11]=this[11],a[b+12]=this[12],a[b+13]=this[13],a[b+14]=this[14],a[b+15]=this[15],a}}let o=new n;class p{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new n,this.worldMatrix=new n,this.matrixAutoUpdate=!0,this.position=new d.A,this.quaternion=new class extends Array{constructor(a=0,b=0,c=0,d=1){return super(a,b,c,d),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(a){this[0]=a,this.onChange()}set y(a){this[1]=a,this.onChange()}set z(a){this[2]=a,this.onChange()}set w(a){this[3]=a,this.onChange()}identity(){var a;return a=this,a[0]=0,a[1]=0,a[2]=0,a[3]=1,this.onChange(),this}set(a,b,c,d){return a.length?this.copy(a):(h(this,a,b,c,d),this.onChange(),this)}rotateX(a){var b,c,d;let e,f,g,h,i,j;return b=this,c=this,d=a,d*=.5,e=c[0],f=c[1],g=c[2],h=c[3],i=Math.sin(d),j=Math.cos(d),b[0]=e*j+h*i,b[1]=f*j+g*i,b[2]=g*j-f*i,b[3]=h*j-e*i,this.onChange(),this}rotateY(a){var b,c,d;let e,f,g,h,i,j;return b=this,c=this,d=a,d*=.5,e=c[0],f=c[1],g=c[2],h=c[3],i=Math.sin(d),j=Math.cos(d),b[0]=e*j-g*i,b[1]=f*j+h*i,b[2]=g*j+e*i,b[3]=h*j-f*i,this.onChange(),this}rotateZ(a){var b,c,d;let e,f,g,h,i,j;return b=this,c=this,d=a,d*=.5,e=c[0],f=c[1],g=c[2],h=c[3],i=Math.sin(d),j=Math.cos(d),b[0]=e*j+f*i,b[1]=f*j-e*i,b[2]=g*j+h*i,b[3]=h*j-g*i,this.onChange(),this}inverse(a=this){var b,c;let d,e,f,g,h,i;return b=this,d=(c=a)[0],e=c[1],f=c[2],g=c[3],h=d*d+e*e+f*f+g*g,i=h?1/h:0,b[0]=-d*i,b[1]=-e*i,b[2]=-f*i,b[3]=g*i,this.onChange(),this}conjugate(a=this){var b,c;return b=this,c=a,b[0]=-c[0],b[1]=-c[1],b[2]=-c[2],b[3]=c[3],this.onChange(),this}copy(a){return g(this,a),this.onChange(),this}normalize(a=this){return j(this,a),this.onChange(),this}multiply(a,b){return b?f(this,a,b):f(this,this,a),this.onChange(),this}dot(a){return i(this,a)}fromMatrix3(a){return function(a,b){let c=b[0]+b[4]+b[8],d;if(c>0)d=Math.sqrt(c+1),a[3]=.5*d,d=.5/d,a[0]=(b[5]-b[7])*d,a[1]=(b[6]-b[2])*d,a[2]=(b[1]-b[3])*d;else{let e=0;b[4]>b[0]&&(e=1),b[8]>b[3*e+e]&&(e=2);let f=(e+1)%3,g=(e+2)%3;d=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1),a[e]=.5*d,d=.5/d,a[3]=(b[3*f+g]-b[3*g+f])*d,a[f]=(b[3*f+e]+b[3*e+f])*d,a[g]=(b[3*g+e]+b[3*e+g])*d}}(this,a),this.onChange(),this}fromEuler(a){return function(a,b,c="YXZ"){let d=Math.sin(.5*b[0]),e=Math.cos(.5*b[0]),f=Math.sin(.5*b[1]),g=Math.cos(.5*b[1]),h=Math.sin(.5*b[2]),i=Math.cos(.5*b[2]);"XYZ"===c?(a[0]=d*g*i+e*f*h,a[1]=e*f*i-d*g*h,a[2]=e*g*h+d*f*i,a[3]=e*g*i-d*f*h):"YXZ"===c?(a[0]=d*g*i+e*f*h,a[1]=e*f*i-d*g*h,a[2]=e*g*h-d*f*i,a[3]=e*g*i+d*f*h):"ZXY"===c?(a[0]=d*g*i-e*f*h,a[1]=e*f*i+d*g*h,a[2]=e*g*h+d*f*i,a[3]=e*g*i-d*f*h):"ZYX"===c?(a[0]=d*g*i-e*f*h,a[1]=e*f*i+d*g*h,a[2]=e*g*h-d*f*i,a[3]=e*g*i+d*f*h):"YZX"===c?(a[0]=d*g*i+e*f*h,a[1]=e*f*i+d*g*h,a[2]=e*g*h-d*f*i,a[3]=e*g*i-d*f*h):"XZY"===c&&(a[0]=d*g*i-e*f*h,a[1]=e*f*i-d*g*h,a[2]=e*g*h+d*f*i,a[3]=e*g*i+d*f*h)}(this,a,a.order),this}fromAxisAngle(a,b){var c,d,e;let f;return c=this,d=a,e=b,f=Math.sin(e*=.5),c[0]=f*d[0],c[1]=f*d[1],c[2]=f*d[2],c[3]=Math.cos(e),this}slerp(a,b){var c,d,e,f;let g,h,i,j,k,l,m,n,o,p,q,r,s;return c=this,d=this,e=a,f=b,g=d[0],h=d[1],i=d[2],j=d[3],k=e[0],l=e[1],m=e[2],n=e[3],(p=g*k+h*l+i*m+j*n)<0&&(p=-p,k=-k,l=-l,m=-m,n=-n),1-p>1e-6?(o=Math.acos(p),q=Math.sin(o),r=Math.sin((1-f)*o)/q,s=Math.sin(f*o)/q):(r=1-f,s=f),c[0]=r*g+s*k,c[1]=r*h+s*l,c[2]=r*i+s*m,c[3]=r*j+s*n,this}fromArray(a,b=0){return this[0]=a[b],this[1]=a[b+1],this[2]=a[b+2],this[3]=a[b+3],this}toArray(a=[],b=0){return a[b]=this[0],a[b+1]=this[1],a[b+2]=this[2],a[b+3]=this[3],a}},this.scale=new d.A(1),this.rotation=new class extends Array{constructor(a=0,b=a,c=a,d="YXZ"){return super(a,b,c),this.order=d,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(a){this[0]=a,this.onChange()}set y(a){this[1]=a,this.onChange()}set z(a){this[2]=a,this.onChange()}set(a,b=a,c=a){return a.length?this.copy(a):(this[0]=a,this[1]=b,this[2]=c,this.onChange(),this)}copy(a){return this[0]=a[0],this[1]=a[1],this[2]=a[2],this.onChange(),this}reorder(a){return this.order=a,this.onChange(),this}fromRotationMatrix(a,b=this.order){return function(a,b,c="YXZ"){"XYZ"===c?(a[1]=Math.asin(Math.min(Math.max(b[8],-1),1)),.99999>Math.abs(b[8])?(a[0]=Math.atan2(-b[9],b[10]),a[2]=Math.atan2(-b[4],b[0])):(a[0]=Math.atan2(b[6],b[5]),a[2]=0)):"YXZ"===c?(a[0]=Math.asin(-Math.min(Math.max(b[9],-1),1)),.99999>Math.abs(b[9])?(a[1]=Math.atan2(b[8],b[10]),a[2]=Math.atan2(b[1],b[5])):(a[1]=Math.atan2(-b[2],b[0]),a[2]=0)):"ZXY"===c?(a[0]=Math.asin(Math.min(Math.max(b[6],-1),1)),.99999>Math.abs(b[6])?(a[1]=Math.atan2(-b[2],b[10]),a[2]=Math.atan2(-b[4],b[5])):(a[1]=0,a[2]=Math.atan2(b[1],b[0]))):"ZYX"===c?(a[1]=Math.asin(-Math.min(Math.max(b[2],-1),1)),.99999>Math.abs(b[2])?(a[0]=Math.atan2(b[6],b[10]),a[2]=Math.atan2(b[1],b[0])):(a[0]=0,a[2]=Math.atan2(-b[4],b[5]))):"YZX"===c?(a[2]=Math.asin(Math.min(Math.max(b[1],-1),1)),.99999>Math.abs(b[1])?(a[0]=Math.atan2(-b[9],b[5]),a[1]=Math.atan2(-b[2],b[0])):(a[0]=0,a[1]=Math.atan2(b[8],b[10]))):"XZY"===c&&(a[2]=Math.asin(-Math.min(Math.max(b[4],-1),1)),.99999>Math.abs(b[4])?(a[0]=Math.atan2(b[6],b[5]),a[1]=Math.atan2(b[8],b[0])):(a[0]=Math.atan2(-b[9],b[10]),a[1]=0))}(this,a,b),this}fromQuaternion(a,b=this.order){return o.fromQuaternion(a),this.fromRotationMatrix(o,b)}toArray(a=[],b=0){return a[b]=this[0],a[b+1]=this[1],a[b+2]=this[2],a}},this.up=new d.A(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(a,b=!0){this.parent&&a!==this.parent&&this.parent.removeChild(this,!1),this.parent=a,b&&a&&a.addChild(this,!1)}addChild(a,b=!0){~this.children.indexOf(a)||this.children.push(a),b&&a.setParent(this,!1)}removeChild(a,b=!0){~this.children.indexOf(a)&&this.children.splice(this.children.indexOf(a),1),b&&a.setParent(null,!1)}updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||a)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,a=!0);for(let b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(a){if(!a(this))for(let b=0,c=this.children.length;b<c;b++)this.children[b].traverse(a)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(a,b=!1){b?this.matrix.lookAt(this.position,a,this.up):this.matrix.lookAt(a,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}function q(a,b,c){let d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a}let r=0;class s extends p{constructor(a,{geometry:b,program:c,mode:d=a.TRIANGLES,frustumCulled:e=!0,renderOrder:f=0}={}){super(),a.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=a,this.id=r++,this.geometry=b,this.program=c,this.mode=d,this.frustumCulled=e,this.renderOrder=f,this.modelViewMatrix=new n,this.normalMatrix=new class extends Array{constructor(a=1,b=0,c=0,d=0,e=1,f=0,g=0,h=0,i=1){return super(a,b,c,d,e,f,g,h,i),this}set(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s;return a.length?this.copy(a):(j=this,k=a,l=b,m=c,n=d,o=e,p=f,q=g,r=h,s=i,j[0]=k,j[1]=l,j[2]=m,j[3]=n,j[4]=o,j[5]=p,j[6]=q,j[7]=r,j[8]=s,this)}translate(a,b=this){var c,d,e;let f,g,h,i,j,k,l,m,n,o,p;return c=this,d=b,e=a,f=d[0],g=d[1],h=d[2],i=d[3],j=d[4],k=d[5],l=d[6],m=d[7],n=d[8],o=e[0],p=e[1],c[0]=f,c[1]=g,c[2]=h,c[3]=i,c[4]=j,c[5]=k,c[6]=o*f+p*i+l,c[7]=o*g+p*j+m,c[8]=o*h+p*k+n,this}rotate(a,b=this){var c,d,e;let f,g,h,i,j,k,l,m,n,o,p;return c=this,d=b,e=a,f=d[0],g=d[1],h=d[2],i=d[3],j=d[4],k=d[5],l=d[6],m=d[7],n=d[8],o=Math.sin(e),p=Math.cos(e),c[0]=p*f+o*i,c[1]=p*g+o*j,c[2]=p*h+o*k,c[3]=p*i-o*f,c[4]=p*j-o*g,c[5]=p*k-o*h,c[6]=l,c[7]=m,c[8]=n,this}scale(a,b=this){var c,d,e;let f,g;return c=this,d=b,f=(e=a)[0],g=e[1],c[0]=f*d[0],c[1]=f*d[1],c[2]=f*d[2],c[3]=g*d[3],c[4]=g*d[4],c[5]=g*d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],this}multiply(a,b){return b?q(this,a,b):q(this,this,a),this}identity(){var a;return a=this,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this}copy(a){var b,c;return b=this,c=a,b[0]=c[0],b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=c[6],b[7]=c[7],b[8]=c[8],this}fromMatrix4(a){var b,c;return b=this,c=a,b[0]=c[0],b[1]=c[1],b[2]=c[2],b[3]=c[4],b[4]=c[5],b[5]=c[6],b[6]=c[8],b[7]=c[9],b[8]=c[10],this}fromQuaternion(a){var b,c;let d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;return b=this,d=(c=a)[0],e=c[1],f=c[2],g=c[3],h=d+d,i=e+e,j=f+f,k=d*h,l=e*h,m=e*i,n=f*h,o=f*i,p=f*j,q=g*h,r=g*i,s=g*j,b[0]=1-m-p,b[3]=l-s,b[6]=n+r,b[1]=l+s,b[4]=1-k-p,b[7]=o-q,b[2]=n-r,b[5]=o+q,b[8]=1-k-m,this}fromBasis(a,b,c){return this.set(a[0],a[1],a[2],b[0],b[1],b[2],c[0],c[1],c[2]),this}inverse(a=this){var b,c;let d,e,f,g,h,i,j,k,l,m,n,o,p;return b=this,d=(c=a)[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],m=l*h-i*k,n=-l*g+i*j,o=k*g-h*j,p=d*m+e*n+f*o,p&&(p=1/p,b[0]=m*p,b[1]=(-l*e+f*k)*p,b[2]=(i*e-f*h)*p,b[3]=n*p,b[4]=(l*d-f*j)*p,b[5]=(-i*d+f*g)*p,b[6]=o*p,b[7]=(-k*d+e*j)*p,b[8]=(h*d-e*g)*p),this}getNormalMatrix(a){var b,c;let d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;return b=this,d=(c=a)[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],m=c[9],n=c[10],o=c[11],p=c[12],q=c[13],r=c[14],s=c[15],t=d*i-e*h,u=d*j-f*h,v=d*k-g*h,w=e*j-f*i,x=e*k-g*i,y=f*k-g*j,z=l*q-m*p,A=l*r-n*p,B=l*s-o*p,C=m*r-n*q,D=m*s-o*q,E=n*s-o*r,F=t*E-u*D+v*C+w*B-x*A+y*z,F&&(F=1/F,b[0]=(i*E-j*D+k*C)*F,b[1]=(j*B-h*E-k*A)*F,b[2]=(h*D-i*B+k*z)*F,b[3]=(f*D-e*E-g*C)*F,b[4]=(d*E-f*B+g*A)*F,b[5]=(e*B-d*D-g*z)*F,b[6]=(q*y-r*x+s*w)*F,b[7]=(r*v-p*y-s*u)*F,b[8]=(p*x-q*v+s*t)*F),this}},this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(a){return this.beforeRenderCallbacks.push(a),this}onAfterRender(a){return this.afterRenderCallbacks.push(a),this}draw({camera:a}={}){this.beforeRenderCallbacks.forEach(b=>b&&b({mesh:this,camera:a})),a&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=a.projectionMatrix,this.program.uniforms.cameraPosition.value=a.worldPosition,this.program.uniforms.viewMatrix.value=a.viewMatrix,this.modelViewMatrix.multiply(a.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let b=this.program.cullFace&&0>this.worldMatrix.determinant();this.program.use({flipFaces:b}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(b=>b&&b({mesh:this,camera:a}))}}},7032:function(a,b,c){c.d(b,{"$":function(){return f}});let d=1,e={};class f{constructor(a,{vertex:b,fragment:c,uniforms:e={},transparent:f=!1,cullFace:g=a.BACK,frontFace:i=a.CCW,depthTest:j=!0,depthWrite:k=!0,depthFunc:l=a.LESS}={}){a.canvas||console.error("gl not passed as first argument to Program"),this.gl=a,this.uniforms=e,this.id=d++,b||console.warn("vertex shader not supplied"),c||console.warn("fragment shader not supplied"),this.transparent=f,this.cullFace=g,this.frontFace=i,this.depthTest=j,this.depthWrite=k,this.depthFunc=l,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));let m=a.createShader(a.VERTEX_SHADER);a.shaderSource(m,b),a.compileShader(m),""!==a.getShaderInfoLog(m)&&console.warn(`${a.getShaderInfoLog(m)}
Vertex Shader
${h(b)}`);let n=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(n,c),a.compileShader(n),""!==a.getShaderInfoLog(n)&&console.warn(`${a.getShaderInfoLog(n)}
Fragment Shader
${h(c)}`),this.program=a.createProgram(),a.attachShader(this.program,m),a.attachShader(this.program,n),a.linkProgram(this.program),!a.getProgramParameter(this.program,a.LINK_STATUS))return console.warn(a.getProgramInfoLog(this.program));a.deleteShader(m),a.deleteShader(n),this.uniformLocations=new Map;let o=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS);for(let p=0;p<o;p++){let q=a.getActiveUniform(this.program,p);this.uniformLocations.set(q,a.getUniformLocation(this.program,q.name));let r=q.name.match(/(\w+)/g);q.uniformName=r[0],3===r.length?(q.isStructArray=!0,q.structIndex=Number(r[1]),q.structProperty=r[2]):2===r.length&&isNaN(Number(r[1]))&&(q.isStruct=!0,q.structProperty=r[1])}this.attributeLocations=new Map;let s=[],t=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES);for(let u=0;u<t;u++){let v=a.getActiveAttrib(this.program,u),w=a.getAttribLocation(this.program,v.name);-1!==w&&(s[w]=v.name,this.attributeLocations.set(v,w))}this.attributeOrder=s.join("")}setBlendFunc(a,b,c,d){this.blendFunc.src=a,this.blendFunc.dst=b,this.blendFunc.srcAlpha=c,this.blendFunc.dstAlpha=d,a&&(this.transparent=!0)}setBlendEquation(a,b){this.blendEquation.modeRGB=a,this.blendEquation.modeAlpha=b}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:a=!1}={}){let b=-1,c=this.gl.renderer.state.currentProgram===this.id;c||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((a,c)=>{let d=c.uniformName,e=this.uniforms[d];if(c.isStruct&&(e=e[c.structProperty],d+=`.${c.structProperty}`),c.isStructArray&&(e=e[c.structIndex][c.structProperty],d+=`[${c.structIndex}].${c.structProperty}`),!e)return m(`Active uniform ${d} has not been supplied`);if(e&& void 0===e.value)return m(`${d} uniform is missing a value parameter`);if(e.value.texture)return b+=1,e.value.update(b),g(this.gl,c.type,a,b);if(e.value.length&&e.value[0].texture){let f=[];return e.value.forEach(a=>{b+=1,a.update(b),f.push(b)}),g(this.gl,c.type,a,f)}g(this.gl,c.type,a,e.value)}),this.applyState(),a&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function g(a,b,c,d){d=d.length?i(d):d;let e=a.renderer.state.uniformLocations.get(c);if(d.length){if(void 0===e||e.length!==d.length)a.renderer.state.uniformLocations.set(c,d.slice(0));else{if(j(e,d))return;e.set?e.set(d):k(e,d),a.renderer.state.uniformLocations.set(c,e)}}else{if(e===d)return;a.renderer.state.uniformLocations.set(c,d)}switch(b){case 5126:return d.length?a.uniform1fv(c,d):a.uniform1f(c,d);case 35664:return a.uniform2fv(c,d);case 35665:return a.uniform3fv(c,d);case 35666:return a.uniform4fv(c,d);case 35670:case 5124:case 35678:case 35680:return d.length?a.uniform1iv(c,d):a.uniform1i(c,d);case 35671:case 35667:return a.uniform2iv(c,d);case 35672:case 35668:return a.uniform3iv(c,d);case 35673:case 35669:return a.uniform4iv(c,d);case 35674:return a.uniformMatrix2fv(c,!1,d);case 35675:return a.uniformMatrix3fv(c,!1,d);case 35676:return a.uniformMatrix4fv(c,!1,d)}}function h(a){let b=a.split("\n");for(let c=0;c<b.length;c++)b[c]=c+1+": "+b[c];return b.join("\n")}function i(a){let b=a.length,c=a[0].length;if(void 0===c)return a;let d=b*c,f=e[d];f||(e[d]=f=new Float32Array(d));for(let g=0;g<b;g++)f.set(a[g],g*c);return f}function j(a,b){if(a.length!==b.length)return!1;for(let c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function k(a,b){for(let c=0,d=a.length;c<d;c++)a[c]=b[c]}let l=0;function m(a){!(l>100)&&(console.warn(a),++l>100&&console.warn("More than 100 program warnings - stopping logs."))}},3568:function(a,b,c){c.d(b,{T:function(){return g}});var d=c(1945);let e=new d.A,f=1;class g{constructor({canvas:a=document.createElement("canvas"),width:b=300,height:c=150,dpr:d=1,alpha:e=!1,depth:g=!0,stencil:h=!1,antialias:i=!1,premultipliedAlpha:j=!1,preserveDrawingBuffer:k=!1,powerPreference:l="default",autoClear:m=!0,webgl:n=2}={}){let o={alpha:e,depth:g,stencil:h,antialias:i,premultipliedAlpha:j,preserveDrawingBuffer:k,powerPreference:l};this.dpr=d,this.alpha=e,this.color=!0,this.depth=g,this.stencil=h,this.premultipliedAlpha=j,this.autoClear=m,this.id=f++,2===n&&(this.gl=a.getContext("webgl2",o)),this.isWebgl2=!!this.gl,this.gl||(this.gl=a.getContext("webgl",o)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(b,c),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(a,b){this.width=a,this.height=b,this.gl.canvas.width=a*this.dpr,this.gl.canvas.height=b*this.dpr,Object.assign(this.gl.canvas.style,{width:a+"px",height:b+"px"})}setViewport(a,b,c=0,d=0){(this.state.viewport.width!==a||this.state.viewport.height!==b)&&(this.state.viewport.width=a,this.state.viewport.height=b,this.state.viewport.x=c,this.state.viewport.y=d,this.gl.viewport(c,d,a,b))}setScissor(a,b,c=0,d=0){this.gl.scissor(c,d,a,b)}enable(a){!0!==this.state[a]&&(this.gl.enable(a),this.state[a]=!0)}disable(a){!1!==this.state[a]&&(this.gl.disable(a),this.state[a]=!1)}setBlendFunc(a,b,c,d){(this.state.blendFunc.src!==a||this.state.blendFunc.dst!==b||this.state.blendFunc.srcAlpha!==c||this.state.blendFunc.dstAlpha!==d)&&(this.state.blendFunc.src=a,this.state.blendFunc.dst=b,this.state.blendFunc.srcAlpha=c,this.state.blendFunc.dstAlpha=d,void 0!==c?this.gl.blendFuncSeparate(a,b,c,d):this.gl.blendFunc(a,b))}setBlendEquation(a,b){a=a||this.gl.FUNC_ADD,(this.state.blendEquation.modeRGB!==a||this.state.blendEquation.modeAlpha!==b)&&(this.state.blendEquation.modeRGB=a,this.state.blendEquation.modeAlpha=b,void 0!==b?this.gl.blendEquationSeparate(a,b):this.gl.blendEquation(a))}setCullFace(a){this.state.cullFace!==a&&(this.state.cullFace=a,this.gl.cullFace(a))}setFrontFace(a){this.state.frontFace!==a&&(this.state.frontFace=a,this.gl.frontFace(a))}setDepthMask(a){this.state.depthMask!==a&&(this.state.depthMask=a,this.gl.depthMask(a))}setDepthFunc(a){this.state.depthFunc!==a&&(this.state.depthFunc=a,this.gl.depthFunc(a))}activeTexture(a){this.state.activeTextureUnit!==a&&(this.state.activeTextureUnit=a,this.gl.activeTexture(this.gl.TEXTURE0+a))}bindFramebuffer({target:a=this.gl.FRAMEBUFFER,buffer:b=null}={}){this.state.framebuffer!==b&&(this.state.framebuffer=b,this.gl.bindFramebuffer(a,b))}getExtension(a,b,c){return b&&this.gl[b]?this.gl[b].bind(this.gl):(this.extensions[a]||(this.extensions[a]=this.gl.getExtension(a)),b)?this.extensions[a]?this.extensions[a][c].bind(this.extensions[a]):null:this.extensions[a]}sortOpaque(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program.id!==b.program.id?a.program.id-b.program.id:a.zDepth!==b.zDepth?a.zDepth-b.zDepth:b.id-a.id}sortTransparent(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.zDepth!==b.zDepth?b.zDepth-a.zDepth:b.id-a.id}sortUI(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program.id!==b.program.id?a.program.id-b.program.id:b.id-a.id}getRenderList({scene:a,camera:b,frustumCull:c,sort:d}){let f=[];if(b&&c&&b.updateFrustum(),a.traverse(a=>{if(!a.visible)return!0;if(a.draw){if(c&&a.frustumCulled&&b&&!b.frustumIntersectsMesh(a))return;f.push(a)}}),d){let g=[],h=[],i=[];f.forEach(a=>{a.program.transparent?a.program.depthTest?h.push(a):i.push(a):g.push(a),a.zDepth=0,0===a.renderOrder&&a.program.depthTest&&b&&(a.worldMatrix.getTranslation(e),e.applyMatrix4(b.projectionViewMatrix),a.zDepth=e.z)}),g.sort(this.sortOpaque),h.sort(this.sortTransparent),i.sort(this.sortUI),f=g.concat(h,i)}return f}render({scene:a,camera:b,target:c=null,update:d=!0,sort:e=!0,frustumCull:f=!0,clear:g}){null===c?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(c),this.setViewport(c.width,c.height)),(g||this.autoClear&& !1!==g)&&(this.depth&&(!c||c.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),d&&a.updateMatrixWorld(),b&&b.updateMatrixWorld();let h=this.getRenderList({scene:a,camera:b,frustumCull:f,sort:e});h.forEach(a=>{a.draw({camera:b})})}}},4937:function(a,b,c){c.d(b,{x:function(){return g}});let d=new Uint8Array(4);function e(a){return(a&a-1)==0}let f=1;class g{constructor(a,{image:b,target:c=a.TEXTURE_2D,type:d=a.UNSIGNED_BYTE,format:e=a.RGBA,internalFormat:g=e,wrapS:h=a.CLAMP_TO_EDGE,wrapT:i=a.CLAMP_TO_EDGE,generateMipmaps:j=!0,minFilter:k=j?a.NEAREST_MIPMAP_LINEAR:a.LINEAR,magFilter:l=a.LINEAR,premultiplyAlpha:m=!1,unpackAlignment:n=4,flipY:o=c==a.TEXTURE_2D,anisotropy:p=0,level:q=0,width:r,height:s=r}={}){this.gl=a,this.id=f++,this.image=b,this.target=c,this.type=d,this.format=e,this.internalFormat=g,this.minFilter=k,this.magFilter=l,this.wrapS=h,this.wrapT=i,this.generateMipmaps=j,this.premultiplyAlpha=m,this.unpackAlignment=n,this.flipY=o,this.anisotropy=Math.min(p,this.gl.renderer.parameters.maxAnisotropy),this.level=q,this.width=r,this.height=s,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(a=0){let b=!(this.image===this.store.image&&!this.needsUpdate);if((b||this.glState.textureUnits[a]!==this.id)&&(this.gl.renderer.activeTexture(a),this.bind()),b){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let c=0;c<6;c++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+c,this.level,this.internalFormat,this.format,this.type,this.image[c]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let f=0;f<this.image.length;f++)this.gl.compressedTexImage2D(this.target,f,this.internalFormat,this.image[f].width,this.image[f].height,0,this.image[f].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||e(this.image.width)&&e(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let g=0;g<6;g++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,d);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,d);this.store.image=this.image}}}},9734:function(a,b,c){c.d(b,{h:function(){return k}});var d=c(4937);class e{constructor(a,{width:b=a.canvas.width,height:c=a.canvas.height,target:e=a.FRAMEBUFFER,color:f=1,depth:g=!0,stencil:h=!1,depthTexture:i=!1,wrapS:j=a.CLAMP_TO_EDGE,wrapT:k=a.CLAMP_TO_EDGE,minFilter:l=a.LINEAR,magFilter:m=l,type:n=a.UNSIGNED_BYTE,format:o=a.RGBA,internalFormat:p=o,unpackAlignment:q,premultiplyAlpha:r}={}){this.gl=a,this.width=b,this.height=c,this.depth=g,this.buffer=this.gl.createFramebuffer(),this.target=e,this.gl.renderer.bindFramebuffer(this),this.textures=[];let s=[];for(let t=0;t<f;t++)this.textures.push(new d.x(a,{width:b,height:c,wrapS:j,wrapT:k,minFilter:l,magFilter:m,type:n,format:o,internalFormat:p,unpackAlignment:q,premultiplyAlpha:r,flipY:!1,generateMipmaps:!1})),this.textures[t].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+t,this.gl.TEXTURE_2D,this.textures[t].texture,0),s.push(this.gl.COLOR_ATTACHMENT0+t);s.length>1&&this.gl.renderer.drawBuffers(s),this.texture=this.textures[0],i&&(this.gl.renderer.isWebgl2||this.gl.renderer.getExtension("WEBGL_depth_texture"))?(this.depthTexture=new d.x(a,{width:b,height:c,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,format:this.gl.DEPTH_COMPONENT,internalFormat:a.renderer.isWebgl2?this.gl.DEPTH_COMPONENT16:this.gl.DEPTH_COMPONENT,type:this.gl.UNSIGNED_INT}),this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(g&&!h&&(this.depthBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,b,c),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer)),h&&!g&&(this.stencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,b,c),this.gl.framebufferRenderbuffer(this.target,this.gl.STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.stencilBuffer)),g&&h&&(this.depthStencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,b,c),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.depthStencilBuffer))),this.gl.renderer.bindFramebuffer({target:this.target})}setSize(a,b){if(this.width!==a||this.height!==b){this.width=a,this.height=b,this.gl.renderer.bindFramebuffer(this);for(let c=0;c<this.textures.length;c++)this.textures[c].width=a,this.textures[c].height=b,this.textures[c].needsUpdate=!0,this.textures[c].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+c,this.gl.TEXTURE_2D,this.textures[c].texture,0);this.depthTexture?(this.depthTexture.width=a,this.depthTexture.height=b,this.depthTexture.needsUpdate=!0,this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(this.depthBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,a,b)),this.stencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,a,b)),this.depthStencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,a,b))),this.gl.renderer.bindFramebuffer({target:this.target})}}}var f=c(7032),g=c(5056),h=c(6850),i=c(4060);class j extends i.Z{constructor(a,{attributes:b={}}={}){Object.assign(b,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(a,b)}}class k{constructor(a,{size:b=128,falloff:c=.3,alpha:d=1,dissipation:i=.98,type:k}={}){let n=this;this.gl=a,this.uniform={value:null},this.mask={read:null,write:null,swap:()=>{let a=n.mask.read;n.mask.read=n.mask.write,n.mask.write=a,n.uniform.value=n.mask.read.texture}},function(){k||(k=a.HALF_FLOAT||a.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES);let c=a.renderer.isWebgl2||a.renderer.extensions[`OES_texture_${k===a.FLOAT?"":"half_"}float_linear`]?a.LINEAR:a.NEAREST,d={width:b,height:b,type:k,format:a.RGBA,internalFormat:a.renderer.isWebgl2?k===a.FLOAT?a.RGBA32F:a.RGBA16F:a.RGBA,minFilter:c,depth:!1};n.mask.read=new e(a,d),n.mask.write=new e(a,d),n.mask.swap()}(),this.aspect=1,this.mouse=new h.S,this.velocity=new h.S,this.mesh=new g.K(a,{geometry:new j(a),program:new f.$(a,{vertex:l,fragment:m,uniforms:{tMap:n.uniform,uFalloff:{value:.5*c},uAlpha:{value:d},uDissipation:{value:i},uAspect:{value:1},uMouse:{value:n.mouse},uVelocity:{value:n.velocity}},depthTest:!1})})}update(){this.mesh.program.uniforms.uAspect.value=this.aspect,this.gl.renderer.render({scene:this.mesh,target:this.mask.write,clear:!1}),this.mask.swap()}}let l=`
    attribute vec2 uv;
    attribute vec2 position;

    varying vec2 vUv;

    void main() {
        vUv = uv;
        gl_Position = vec4(position, 0, 1);
    }
`,m=`
    precision highp float;

    uniform sampler2D tMap;

    uniform float uFalloff;
    uniform float uAlpha;
    uniform float uDissipation;
    
    uniform float uAspect;
    uniform vec2 uMouse;
    uniform vec2 uVelocity;

    varying vec2 vUv;

    void main() {
        vec4 color = texture2D(tMap, vUv) * uDissipation;

        vec2 cursor = vUv - uMouse;
        cursor.x *= uAspect;

        vec3 stamp = vec3(uVelocity * vec2(1, -1), 1.0 - pow(1.0 - min(1.0, length(uVelocity)), 3.0));
        float falloff = smoothstep(uFalloff, 0.0, length(cursor)) * uAlpha;

        color.rgb = mix(color.rgb, stamp, vec3(falloff));

        gl_FragColor = color;
    }
`},6850:function(a,b,c){function d(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function e(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function f(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function g(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)}function h(a,b){return a[0]*b[1]-a[1]*b[0]}c.d(b,{S:function(){return i}});class i extends Array{constructor(a=0,b=a){return super(a,b),this}get x(){return this[0]}get y(){return this[1]}set x(a){this[0]=a}set y(a){this[1]=a}set(a,b=a){var c,d,e;return a.length?this.copy(a):(c=this,d=a,e=b,c[0]=d,c[1]=e,this)}copy(a){var b,c;return b=this,c=a,b[0]=c[0],b[1]=c[1],this}add(a,b){return b?d(this,a,b):d(this,this,a),this}sub(a,b){return b?e(this,a,b):e(this,this,a),this}multiply(a){if(a.length){var b,c,d;b=this,c=this,d=a,b[0]=c[0]*d[0],b[1]=c[1]*d[1]}else f(this,this,a);return this}divide(a){if(a.length){var b,c,d;b=this,c=this,d=a,b[0]=c[0]/d[0],b[1]=c[1]/d[1]}else f(this,this,1/a);return this}inverse(a=this){var b,c;return b=this,c=a,b[0]=1/c[0],b[1]=1/c[1],this}len(){return g(this)}distance(a){var b,c,d,e;return a?(b=this,d=(c=a)[0]-b[0],e=c[1]-b[1],Math.sqrt(d*d+e*e)):g(this)}squaredLen(){return this.squaredDistance()}squaredDistance(a){var b,c,d,e,f,g,h;return a?(b=this,d=(c=a)[0]-b[0],e=c[1]-b[1],d*d+e*e):(f=this,g=f[0],h=f[1],g*g+h*h)}negate(a=this){var b,c;return b=this,c=a,b[0]=-c[0],b[1]=-c[1],this}cross(a,b){return b?h(a,b):h(this,a)}scale(a){return f(this,this,a),this}normalize(){var a,b,c,d,e;return a=this,b=this,c=b[0],d=b[1],e=c*c+d*d,e>0&&(e=1/Math.sqrt(e)),a[0]=b[0]*e,a[1]=b[1]*e,this}dot(a){var b,c;return b=this,c=a,b[0]*c[0]+b[1]*c[1]}equals(a){var b,c;return b=this,c=a,b[0]===c[0]&&b[1]===c[1]}applyMatrix3(a){var b,c,d,e,f;return b=this,c=this,d=a,e=c[0],f=c[1],b[0]=d[0]*e+d[3]*f+d[6],b[1]=d[1]*e+d[4]*f+d[7],this}applyMatrix4(a){var b,c,d;let e,f;return b=this,c=this,d=a,e=c[0],f=c[1],b[0]=d[0]*e+d[4]*f+d[12],b[1]=d[1]*e+d[5]*f+d[13],this}lerp(a,b){var c,d,e,f,g,h;return c=this,d=this,e=a,f=b,g=d[0],h=d[1],c[0]=g+f*(e[0]-g),c[1]=h+f*(e[1]-h),this}clone(){return new i(this[0],this[1])}fromArray(a,b=0){return this[0]=a[b],this[1]=a[b+1],this}toArray(a=[],b=0){return a[b]=this[0],a[b+1]=this[1],a}}},1945:function(a,b,c){function d(a){let b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)}function e(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a}function f(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a}function g(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a}function h(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a}function i(a){let b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d}function j(a,b){let c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f)),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f,a}function k(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function l(a,b,c){let d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a}c.d(b,{A:function(){return n}});let m=function(){let a=[0,0,0],b=[0,0,0];return function(c,d){e(a,c),e(b,d),j(a,a),j(b,b);let f=k(a,b);return f>1?0:f< -1?Math.PI:Math.acos(f)}}();class n extends Array{constructor(a=0,b=a,c=a){return super(a,b,c),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(a){this[0]=a}set y(a){this[1]=a}set z(a){this[2]=a}set(a,b=a,c=a){var d,e,f,g;return a.length?this.copy(a):(d=this,e=a,f=b,g=c,d[0]=e,d[1]=f,d[2]=g,this)}copy(a){return e(this,a),this}add(a,b){return b?f(this,a,b):f(this,this,a),this}sub(a,b){return b?g(this,a,b):g(this,this,a),this}multiply(a){if(a.length){var b,c,d;b=this,c=this,d=a,b[0]=c[0]*d[0],b[1]=c[1]*d[1],b[2]=c[2]*d[2]}else h(this,this,a);return this}divide(a){if(a.length){var b,c,d;b=this,c=this,d=a,b[0]=c[0]/d[0],b[1]=c[1]/d[1],b[2]=c[2]/d[2]}else h(this,this,1/a);return this}inverse(a=this){var b,c;return b=this,c=a,b[0]=1/c[0],b[1]=1/c[1],b[2]=1/c[2],this}len(){return d(this)}distance(a){var b,c;if(!a)return d(this);let e,f,g;return b=this,e=(c=a)[0]-b[0],f=c[1]-b[1],g=c[2]-b[2],Math.sqrt(e*e+f*f+g*g)}squaredLen(){return i(this)}squaredDistance(a){var b,c;if(!a)return i(this);let d,e,f;return b=this,d=(c=a)[0]-b[0],e=c[1]-b[1],f=c[2]-b[2],d*d+e*e+f*f}negate(a=this){var b,c;return b=this,c=a,b[0]=-c[0],b[1]=-c[1],b[2]=-c[2],this}cross(a,b){return b?l(this,a,b):l(this,this,a),this}scale(a){return h(this,this,a),this}normalize(){return j(this,this),this}dot(a){return k(this,a)}equals(a){var b,c;return b=this,c=a,b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]}applyMatrix3(a){var b,c,d;let e,f,g;return b=this,c=this,d=a,e=c[0],f=c[1],g=c[2],b[0]=e*d[0]+f*d[3]+g*d[6],b[1]=e*d[1]+f*d[4]+g*d[7],b[2]=e*d[2]+f*d[5]+g*d[8],this}applyMatrix4(a){var b,c,d;let e,f,g,h;return b=this,c=this,d=a,e=c[0],f=c[1],g=c[2],h=d[3]*e+d[7]*f+d[11]*g+d[15],h=h||1,b[0]=(d[0]*e+d[4]*f+d[8]*g+d[12])/h,b[1]=(d[1]*e+d[5]*f+d[9]*g+d[13])/h,b[2]=(d[2]*e+d[6]*f+d[10]*g+d[14])/h,this}scaleRotateMatrix4(a){var b,c,d;let e,f,g,h;return b=this,c=this,d=a,e=c[0],f=c[1],g=c[2],h=d[3]*e+d[7]*f+d[11]*g+d[15],h=h||1,b[0]=(d[0]*e+d[4]*f+d[8]*g)/h,b[1]=(d[1]*e+d[5]*f+d[9]*g)/h,b[2]=(d[2]*e+d[6]*f+d[10]*g)/h,this}applyQuaternion(a){var b,c,d;let e,f,g,h,i,j,k,l,m,n,o,p,q,r;return b=this,c=this,d=a,e=c[0],f=c[1],g=c[2],h=d[0],i=d[1],j=d[2],k=d[3],l=i*g-j*f,m=j*e-h*g,n=h*f-i*e,o=i*n-j*m,p=j*l-h*n,q=h*m-i*l,r=2*k,l*=r,m*=r,n*=r,o*=2,p*=2,q*=2,b[0]=e+l+o,b[1]=f+m+p,b[2]=g+n+q,this}angle(a){return m(this,a)}lerp(a,b){var c,d,e,f;let g,h,i;return c=this,d=this,e=a,f=b,g=d[0],h=d[1],i=d[2],c[0]=g+f*(e[0]-g),c[1]=h+f*(e[1]-h),c[2]=i+f*(e[2]-i),this}clone(){return new n(this[0],this[1],this[2])}fromArray(a,b=0){return this[0]=a[b],this[1]=a[b+1],this[2]=a[b+2],this}toArray(a=[],b=0){return a[b]=this[0],a[b+1]=this[1],a[b+2]=this[2],a}transformDirection(a){let b=this[0],c=this[1],d=this[2];return this[0]=a[0]*b+a[4]*c+a[8]*d,this[1]=a[1]*b+a[5]*c+a[9]*d,this[2]=a[2]*b+a[6]*c+a[10]*d,this.normalize()}}},515:function(a,b,c){c.d(b,{T:function(){return e}});var d=c(2208);class e extends Array{constructor(a=0,b=a,c=a,d=a){return super(a,b,c,d),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(a){this[0]=a}set y(a){this[1]=a}set z(a){this[2]=a}set w(a){this[3]=a}set(a,b,c,e){return a.length?this.copy(a):(d.t8(this,a,b,c,e),this)}copy(a){return d.JG(this,a),this}normalize(){return d.Fv(this,this),this}multiply(a){return d.bA(this,this,a),this}dot(a){return d.AK(this,a)}fromArray(a,b=0){return this[0]=a[b],this[1]=a[b+1],this[2]=a[b+2],this[3]=a[b+3],this}toArray(a=[],b=0){return a[b]=this[0],a[b+1]=this[1],a[b+2]=this[2],a[b+3]=this[3],a}}},2208:function(a,b,c){function d(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function e(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function f(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a}function g(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a}function h(a){let b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)}function i(a,b){let c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g)),a[0]=c*g,a[1]=d*g,a[2]=e*g,a[3]=f*g,a}function j(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function k(a,b,c,d){let e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a}c.d(b,{AK:function(){return j},Fv:function(){return i},IH:function(){return f},JG:function(){return d},bA:function(){return g},kE:function(){return h},t7:function(){return k},t8:function(){return e}})}}])